---
import Layout from "../layouts/Layout.astro";
import ProjectCard from "../components/ProjectCard.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
const sortedProjects = projects.sort(
    (a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf(),
);
---

<Layout title="Nos Réalisations - Florent DABERT">
    <section class="py-16 md:py-24 text-center space-y-4 px-4">
        <h1 class="text-4xl md:text-5xl font-serif font-bold text-stone-900">
            Toutes les Créations
        </h1>
        <p class="text-lg text-stone-500 max-w-2xl mx-auto">
            Parcourez l'ensemble de mes réalisations pâtissières.
        </p>
    </section>

    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20">
        <div
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8"
        >
            {sortedProjects.map((project) => <ProjectCard project={project} />)}
        </div>

        {
            projects.length === 0 && (
                <div class="text-center p-12 border-2 border-dashed border-stone-200 rounded-xl">
                    <p class="text-stone-400">Aucun projet pour le moment.</p>
                </div>
            )
        }
    </section>
</Layout>
